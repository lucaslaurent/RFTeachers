<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cadastrar Novo Jogo</title>
    <style>

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 0 10px #ccc;
            width: 100%;
            max-width: 1410px;
            margin: 0 auto 110px auto;
        }

        h1 {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            position: absolute; 
            top: 15px;          
            left: 20px; 
            text-align: left;  
            margin-left: 5px; 
        }

        h2 {
            font-size: 16px;
            font-style: italic;
            margin: 15px 0 10px;
            color: #333;
        }

        form label {
            display: block;
            margin: 10px 0 5px;
            font-weight: bold;
        }

        form input[type="text"],
        form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
        }

        form button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 16px;
            margin-top: 10px;
        }

        form button:hover {
            background-color: #0056b3;
        }

        .success-message,
        .error-message {
            display: none;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }

        .success-message {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background-color: #ffe0e0;
            color: #a94442;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>

    <h1>RAPID FIRE TEACHERS</h1>
<div class="container">
    <h2>Cadastre seu jogo abaixo:</h2>

    <div id="mensagemErro" class="error-message"></div>
    <div id="mensagemSucesso" class="success-message"></div>

    <form id="formCadastro">
        <label for="nome">Nome do Jogo:</label>
        <input type="text" id="nome" name="nome" required>

        <label for="descricao">Descrição:</label>
        <textarea id="descricao" placeholder="Descreva aqui em detalhes o seu jogo." required></textarea>

        <label for="materiais">Materiais Necessários:</label>
        <textarea id="materiais" name="materiais" required></textarea>

        <button type="submit">Cadastrar Jogo</button>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('formCadastro');
    const nome = document.getElementById('nome');
    const descricao = document.getElementById('descricao');
    const materiais = document.getElementById('materiais');
    const mensagemErro = document.getElementById('mensagemErro');
    const mensagemSucesso = document.getElementById('mensagemSucesso');

    form.addEventListener('submit', function(event) {
        event.preventDefault();  

        let mensagens = [];

        if (nome.value.trim() === '') {
            mensagens.push('O nome do jogo é obrigatório.');
        }

        if (descricao.value.trim() === '') {
            mensagens.push('A descrição é obrigatória.');
        }

        if (materiais.value.trim() === '') {
            mensagens.push('Os materiais são obrigatórios.');
        }

        if (mensagens.length > 0) {
            mensagemErro.innerHTML = mensagens.join('<br>');
            mensagemErro.style.display = 'block';
            mensagemSucesso.style.display = 'none';  
        } else {
            
            const jogo = {
                nome: nome.value.trim(),
                descricao: descricao.value.trim(),
                materiais: materiais.value.trim()
            };

            
            fetch('http://localhost:8080/api/jogos', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(jogo)
            })
            .then(response => {
                if (response.ok) {
                    mensagemErro.style.display = 'none';
                    mensagemSucesso.innerHTML = 'Cadastro realizado com sucesso!';
                    mensagemSucesso.style.display = 'block';
                    form.reset();

                    setTimeout(function() {
                        mensagemSucesso.style.display = 'none';
                    }, 2000);
                } else {
                    return response.text().then(texto => {
                        throw new Error(texto);
                    });
                }
            })
            .catch(error => {
                mensagemErro.innerHTML = 'Erro ao cadastrar jogo: ' + error.message;
                mensagemErro.style.display = 'block';
                mensagemSucesso.style.display = 'none';
            });
        }
    });
});
</script>

</body>
</html>







